!function(){"use strict";function t(){var l=window.meilisearchConfig||{host:"http://localhost:7700",apiKey:"masterKey123",index:"docs"},e=document.querySelectorAll("[data-search-input]");0===e.length?setTimeout(t,500):(e.forEach(function(e,t){var r,n=e,i=n.closest(".search-input-wrap")||n.parentElement,a=i.querySelector(".search-results");function s(e){var t;!e||e.length<2?c():(t=l.host+"/indexes/"+l.index+"/search",fetch(t,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+l.apiKey},body:JSON.stringify({q:e,limit:10,attributesToHighlight:["title","content"],highlightPreTag:"<mark>",highlightPostTag:"</mark>",cropLength:150,attributesToCrop:["content"]})}).then(function(e){if(e.ok)return e.json();throw new Error("Search failed with status: "+e.status)}).then(function(e){0===(e=e.hits||[]).length?a.innerHTML='<div class="search-result-item no-results">No results found</div>':(e=e.map(function(e){var t=e._formatted&&e._formatted.title||e.title||"Untitled",n=e._formatted&&e._formatted.content||e.content||"",e=e.url||"#";return 200<n.length&&(n=n.substring(0,200)+"..."),['<div class="search-result-item">','<h4><a href="'+e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")+'">'+t+"</a></h4>",n?"<p>"+n+"</p>":"","</div>"].join("")}).join(""),a.innerHTML=e),o()})["catch"](function(e){console.error("Search error:",e),a.innerHTML='<div class="search-result-item error">Search temporarily unavailable</div>',o()}))}function o(){a.style.display="block",i.classList&&i.classList.add("is-active")}function c(){a.style.display="none",i.classList&&i.classList.remove("is-active")}a||((a=document.createElement("div")).className="search-results",a.style.display="none",i.appendChild(a)),n.addEventListener("input",function(n,i){return function(){var e=this,t=arguments;clearTimeout(r),r=setTimeout(function(){n.apply(e,t)},i)}}(function(e){s(e.target.value.trim())},300)),n.addEventListener("focus",function(){n.value.trim()&&0<a.children.length&&o()}),document.addEventListener("click",function(e){i.contains(e.target)||c()}),n.addEventListener("keydown",function(e){"Escape"===e.key&&(c(),n.blur())})}),console.log("Meilisearch search initialized"))}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):t()}();